{"ast":null,"code":"import React,{useState}from'react';import CategoryList from'./CategoryList';import styles from'./styles/CategoryItem.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryItem(_ref){let{category,onCategoryClick,onAddSubcategory,onDeleteCategory,level=0,maxLevels}=_ref;const[isExpanded,setIsExpanded]=useState(false);const indent=level*20;const handleToggleExpand=()=>{setIsExpanded(!isExpanded);};const handleAddSubcategoryClick=e=>{e.stopPropagation();// Предотвращаем всплытие события, чтобы не вызвать onCategoryClick\nonAddSubcategory(category);};const handleDeleteCategoryClick=e=>{e.stopPropagation();// Предотвращаем всплытие события\nonDeleteCategory(category);};const canAddSubcategory=level<maxLevels-1;const showToggleButton=category.subcategories&&category.subcategories.length>0;return/*#__PURE__*/_jsxs(\"li\",{style:{marginLeft:`${indent}px`},children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.categoryItem,children:[showToggleButton?/*#__PURE__*/_jsx(\"button\",{className:styles.toggleButton,onClick:handleToggleExpand,children:isExpanded?'-':'+'}):/*#__PURE__*/_jsx(\"span\",{className:styles.toggleButtonPlaceholder}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>onCategoryClick(category),className:styles.categoryName,children:category.name}),canAddSubcategory&&/*#__PURE__*/_jsx(\"button\",{className:styles.addButton,onClick:handleAddSubcategoryClick,children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.deleteButton,onClick:handleDeleteCategoryClick,children:\"Delete\"})]}),isExpanded&&category.subcategories&&category.subcategories.length>0&&/*#__PURE__*/_jsx(CategoryList,{categories:category.subcategories,onCategoryClick:onCategoryClick,onAddSubcategory:onAddSubcategory,onDeleteCategory:onDeleteCategory,level:level+1,maxLevels:maxLevels})]});}export default CategoryItem;","map":{"version":3,"names":["React","useState","CategoryList","styles","jsx","_jsx","jsxs","_jsxs","CategoryItem","_ref","category","onCategoryClick","onAddSubcategory","onDeleteCategory","level","maxLevels","isExpanded","setIsExpanded","indent","handleToggleExpand","handleAddSubcategoryClick","e","stopPropagation","handleDeleteCategoryClick","canAddSubcategory","showToggleButton","subcategories","length","style","marginLeft","children","className","categoryItem","toggleButton","onClick","toggleButtonPlaceholder","categoryName","name","addButton","deleteButton","categories"],"sources":["C:/Users/d2220/PycharmProjects/lectures-collection-bot/admin_project/frontend/src/components/CategoryItem.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport CategoryList from './CategoryList';\r\nimport styles from './styles/CategoryItem.module.css';\r\n\r\nfunction CategoryItem({\r\n  category,\r\n  onCategoryClick,\r\n  onAddSubcategory,\r\n  onDeleteCategory,\r\n  level = 0,\r\n  maxLevels,\r\n}) {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const indent = level * 20;\r\n\r\n  const handleToggleExpand = () => {\r\n    setIsExpanded(!isExpanded);\r\n  };\r\n\r\n  const handleAddSubcategoryClick = (e) => {\r\n    e.stopPropagation(); // Предотвращаем всплытие события, чтобы не вызвать onCategoryClick\r\n    onAddSubcategory(category);\r\n  };\r\n\r\n  const handleDeleteCategoryClick = (e) => {\r\n    e.stopPropagation(); // Предотвращаем всплытие события\r\n    onDeleteCategory(category);\r\n  };\r\n\r\n  const canAddSubcategory = level < maxLevels - 1;\r\n  const showToggleButton = category.subcategories && category.subcategories.length > 0;\r\n\r\n  return (\r\n    <li style={{ marginLeft: `${indent}px` }}>\r\n      <div className={styles.categoryItem}>\r\n        {showToggleButton ? (\r\n          <button className={styles.toggleButton} onClick={handleToggleExpand}>\r\n            {isExpanded ? '-' : '+'}\r\n          </button>\r\n        ) : (\r\n          <span className={styles.toggleButtonPlaceholder}></span>\r\n        )}\r\n\r\n        <span onClick={() => onCategoryClick(category)} className={styles.categoryName}>\r\n          {category.name}\r\n        </span>\r\n        {canAddSubcategory && (\r\n          <button className={styles.addButton} onClick={handleAddSubcategoryClick}>\r\n            Add\r\n          </button>\r\n        )}\r\n        <button className={styles.deleteButton} onClick={handleDeleteCategoryClick}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n      {isExpanded && category.subcategories && category.subcategories.length > 0 && (\r\n        <CategoryList\r\n          categories={category.subcategories}\r\n          onCategoryClick={onCategoryClick}\r\n          onAddSubcategory={onAddSubcategory}\r\n          onDeleteCategory={onDeleteCategory}\r\n          level={level + 1}\r\n          maxLevels={maxLevels}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default CategoryItem;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,MAAM,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAOlB,IAPmB,CACpBC,QAAQ,CACRC,eAAe,CACfC,gBAAgB,CAChBC,gBAAgB,CAChBC,KAAK,CAAG,CAAC,CACTC,SACF,CAAC,CAAAN,IAAA,CACC,KAAM,CAACO,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAiB,MAAM,CAAGJ,KAAK,CAAG,EAAE,CAEzB,KAAM,CAAAK,kBAAkB,CAAGA,CAAA,GAAM,CAC/BF,aAAa,CAAC,CAACD,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAI,yBAAyB,CAAIC,CAAC,EAAK,CACvCA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAE;AACrBV,gBAAgB,CAACF,QAAQ,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAa,yBAAyB,CAAIF,CAAC,EAAK,CACvCA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAE;AACrBT,gBAAgB,CAACH,QAAQ,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAc,iBAAiB,CAAGV,KAAK,CAAGC,SAAS,CAAG,CAAC,CAC/C,KAAM,CAAAU,gBAAgB,CAAGf,QAAQ,CAACgB,aAAa,EAAIhB,QAAQ,CAACgB,aAAa,CAACC,MAAM,CAAG,CAAC,CAEpF,mBACEpB,KAAA,OAAIqB,KAAK,CAAE,CAAEC,UAAU,CAAE,GAAGX,MAAM,IAAK,CAAE,CAAAY,QAAA,eACvCvB,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAAC6B,YAAa,CAAAF,QAAA,EACjCL,gBAAgB,cACfpB,IAAA,WAAQ0B,SAAS,CAAE5B,MAAM,CAAC8B,YAAa,CAACC,OAAO,CAAEf,kBAAmB,CAAAW,QAAA,CACjEd,UAAU,CAAG,GAAG,CAAG,GAAG,CACjB,CAAC,cAETX,IAAA,SAAM0B,SAAS,CAAE5B,MAAM,CAACgC,uBAAwB,CAAO,CACxD,cAED9B,IAAA,SAAM6B,OAAO,CAAEA,CAAA,GAAMvB,eAAe,CAACD,QAAQ,CAAE,CAACqB,SAAS,CAAE5B,MAAM,CAACiC,YAAa,CAAAN,QAAA,CAC5EpB,QAAQ,CAAC2B,IAAI,CACV,CAAC,CACNb,iBAAiB,eAChBnB,IAAA,WAAQ0B,SAAS,CAAE5B,MAAM,CAACmC,SAAU,CAACJ,OAAO,CAAEd,yBAA0B,CAAAU,QAAA,CAAC,KAEzE,CAAQ,CACT,cACDzB,IAAA,WAAQ0B,SAAS,CAAE5B,MAAM,CAACoC,YAAa,CAACL,OAAO,CAAEX,yBAA0B,CAAAO,QAAA,CAAC,QAE5E,CAAQ,CAAC,EACN,CAAC,CACLd,UAAU,EAAIN,QAAQ,CAACgB,aAAa,EAAIhB,QAAQ,CAACgB,aAAa,CAACC,MAAM,CAAG,CAAC,eACxEtB,IAAA,CAACH,YAAY,EACXsC,UAAU,CAAE9B,QAAQ,CAACgB,aAAc,CACnCf,eAAe,CAAEA,eAAgB,CACjCC,gBAAgB,CAAEA,gBAAiB,CACnCC,gBAAgB,CAAEA,gBAAiB,CACnCC,KAAK,CAAEA,KAAK,CAAG,CAAE,CACjBC,SAAS,CAAEA,SAAU,CACtB,CACF,EACC,CAAC,CAET,CAEA,cAAe,CAAAP,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}